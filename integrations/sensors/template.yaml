- platform: template
  sensors:
    day_of_week:
      friendly_name: "Day of the week"
      icon_template: mdi:calendar-outline
      value_template: >
        {{ ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'][now().weekday()] }}

- platform: template
  sensors:
    people_home:
      friendly_name: "People at home"
      unit_of_measurement: people
      value_template: >
        {{ states['person'] | selectattr('state', 'eq', 'home') | list | count }}
    people_away:
      friendly_name: "People away"
      unit_of_measurement: people
      value_template: >
        {{ states['person'] | selectattr('state', 'ne', 'home') | list | count }}

- platform: template
  sensors:
    lights_on_amount:
      friendly_name: "Lights on"
      unit_of_measurement: 'on'
      value_template: >
        {{ states['light'] | selectattr('state', 'eq', 'on') | list | count }}
    media_players_playing:
      friendly_name: "Media playing"
      unit_of_measurement: 'playing'
      value_template: >
        {{ states['media_player'] | selectattr('state', 'eq', 'playing') | list | count }}
    warmest_room:
      friendly_name: "Highest indoor temperature"
      unit_of_measurement: 'Â°C'
      value_template: >
        {{[
          states('sensor.upstairs_temperature'),
          states('sensor.bedroom_temperature'),
          states('sensor.kitchen_temperature'),
          states('sensor.living_room_temperature'),
        ] | max}}

- platform: template
  sensors:
    ambee_pollen_weed:
      icon_template: "mdi:nature"
      friendly_name: "Weed pollen"
      value_template: >
        {{ state_attr('sensor.ambee_pollen', 'weed_pollen') }}
    ambee_pollen_tree:
      icon_template: "mdi:tree-outline"
      friendly_name: "Tree pollen"
      value_template: >
        {{ state_attr('sensor.ambee_pollen', 'tree_pollen') }}
    ambee_pollen_grass:
      icon_template: "mdi:grass"
      friendly_name: "Grass pollen"
      value_template: >
        {{ state_attr('sensor.ambee_pollen', 'grass_pollen') }}
